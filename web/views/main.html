<div ng-init="initModel()" xmlns="http://www.w3.org/1999/html">
    <nav class="navbar navbar-fixed-top" role="navigation">
        <div class="row">
            <div class="col-xs-1"></div>
            <div class="col-xs-2">
                <button class="btn btn-default navbar-text" ng-click="reloadResults()">
                    <span class="glyphicon glyphicon-refresh"></span>
                </button>
            </div>
            <div class="col-xs-8">
                <div class="input-group navbar-text">
                    <input type="search" class="form-control search-query"
                           placeholder="Filtro por nick"
                           ng-model="playerFilter"
                           typeahead="player for player in playerList | filter:$viewValue">
                    <span class="input-group-addon" ng-click="playerFilter=''">
                        <span class="glyphicon glyphicon-remove"></span>
                    </span>
                </div>
            </span>
            </div>
            <div class="col-xs-1"></div>
        </div>
    </nav>

    <div class="container" style="padding-top: 70px;">
        <div class="panel col-xs-12 col-sm-6 col-md-4 col-lg-3" ng-repeat="group in groups | filter:playerFilter">
            <div class="panel panel-info">
                <div class="panel-heading matches-heading" id="matchgroup">
                    <div class="col-xs-12 row panel-title">
                        <h5 class="col-xs-8 text-left">{{getGroupStartTime(group.number-1)}}</h5>
                        <button class="pull-right btn btn-sm btn-primary" ng-click="sendResult(group.number)">Enviar!</button>
                    </div>
                </div>
                <div class="panel-body">
                    <form class="form-horizontal" role="form" id="formgroup">
                        <div id="match" ng-repeat="match in group.matches">
                            <div class="form-group">


                                <div class="col-xs-5 text-center"><strong>{{match.leftPlayer}}</strong></div>
                                <div class="col-xs-2 text-center">vs</div>
                                <div class="col-xs-5 text-center"><strong>{{match.rightPlayer}}</strong></div>

                                <div class="col-xs-12">
                                    <div class="input-group">
                                        <span class="input-group-btn" ng-click="updateHole(match, -1)">
                                            <button class="btn btn-default" type="button">
                                                <span class="glyphicon glyphicon-chevron-left"></span>
                                            </button>
                                        </span>
                                        <span class="form-control text-center">{{match | prettyhole}}</span>
                                        <span class="input-group-btn" ng-click="updateHole(match, 1)">
                                            <button class="btn btn-default" type="button">
                                                <span class="glyphicon glyphicon-chevron-right"></span>
                                            </button>
                                        </span>
                                    </div>
                                </div>

                                <div class="col-xs-12">
                                    <div class="input-group">
                                        <span class="input-group-btn" ng-click="updateMatch(match, -1)">
                                            <button class="btn btn-default" type="button">
                                                <span class="glyphicon glyphicon-chevron-left"></span>
                                            </button>
                                        </span>
                                        <span class="form-control text-center "><small>{{match | prettyresult}}</small></span>
                                        <span class="input-group-btn" ng-click="updateMatch(match, 1)">
                                            <button class="btn btn-default" type="button">
                                                <span class="glyphicon glyphicon-chevron-right"></span>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="navbar navbar-default navbar-fixed-bottom" role="navigation">
        <div class="navbar-inner">
            <div class="container">
                <alert type="lastMessage.type">{{lastMessage.text}}</alert>
                {{projectedResult()}} {{finalResult()}}
            </div>
        </div>
    </div>
</div>